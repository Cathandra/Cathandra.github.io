---
title: 正则表达式
date: 2017-10-27 21:51:39 #文章生成时间，一般不改，当然也可以任意修改
tags: 
    - Regex
categories: [Back-End]
---
近来学习数据库系统概论的条件搜索时，老师讲了一些搜索时匹配字符串的方法，感觉如果有正则表达式效率应该会高很多。所以去学习了一下，希望不管是用于数据库查询还是在前端方面都能够提高效率。

<!-- more -->

## 字符

- 普通字符
- 元字符：
  - `\`：向后引用之意
  - `^`：与字符串开始的地方匹配
  - `$`：与字符串结束的地方匹配
  - `*`：匹配\*前面的字符任意次
    e.g.`zo*`指匹配第一个字符为z，后面有[0,+∞)个o的字符串，z、zoo、zoooooooo…
  - `+`：至少匹配+前面的字符一次
    e.g.`zo+`指匹配第一个字符为z，后面有[1,+∞)个o的字符串，zo、zoo，但不可为z；
  - `？`：匹配？前的字符0次或者1次
    e.g.`z(o)?`指匹配z或者zo；
  - 重复操作：
  - `{n}`：表达式重复准确的n次​
e.g.`o{2}`，指匹配含有'oo'的字符串,特别的，o{1}相当于`o*`；
  - `{n,}`：表达式至少重复n次
e.g.`o{2}`，匹配含有‘oo’或‘oooo’……特别的，`o{1,}`相当于`o+`,`o{0,}`相当于`o？`；
  - `{m,n}`：表达式至少重复m次，最多重复n次
贪婪模式 （默认）：尽可能少的匹配所搜索的字符串
非贪婪模式 ：尽可能多的匹配所搜索的字符串
- 标准字符集合
  - `\d`：任意一个数字，等价于`[0~9]`
d refers to digital(数字)
  - `\D`：非数字字符，等价于`[^0-9]`
  - `\w`：任意一个字母、数字或下划线，A~Z、a~z、0~9和_，等价于[a-zA-Z_0-9]
  - `\s`：任意空白符，包括空格、制表符、换行符
s refers to space(空格)
  - `.`：小数点可以匹配任意一个字符
换行除外（如果要匹配包括"\n"在内的所有字符，一般用[\s\S]）
  - `\b`：匹配一个单词的边界
`er\b`可匹配player，但是不匹配verb
  - `\B`：匹配非单词边界处
`er\B`可匹配verb，但是不匹配player
- 简单转义字符
- 自定义字符集合[]：匹配包含在[]的其中一个条件
e.g.
`[ab5@]`：匹配"a"或"b"或"5"或"@"
`[^abc]`：匹配a、b、c之外的任意字符​
`[f-k]`：匹配“f"到"k"之间的字符
`[^A-F0-3]`：匹配“A"-"F","0"-"3"之外的任意一个字符

## 选择符和分组

- `|`  分支结构​
  - 左右表达式之间“或”关系，匹配左边或右边
`f|zo`指f或zo，而`[zf]o`指zo或fo
- `()`捕获组
  - 在被修饰匹配次数的时候，括号中的表达式可以作为整体被修饰
  - 取匹配结果的时候，括号中的表达式匹配到的内容可以被单独得到
  - 每一对括号会分配一个编号，使用（）的捕获根据左括号的顺序从1开始自动编号。捕获编号为零的第一个捕获是整个正则表达式模式匹配的文本
  - 反向引用：通过反向引用，可以对分组已捕获的字符串进行引用。
- `(?:Expression)` 非捕获组
  - 一些表达式中，不得不使用`()`，但又不需要保存`()`中子表达式匹配的内容，这时可以用非捕获组来抵消`()`带来的副作用。

## 匹配模式

- `IGNORECASE` 忽略大小写模式
  - 匹配时忽略大小写
  - 默认是区分大小写的
- `SINGLELINE` 单行模式
  - 整个文本看作一个字符串，只有一个开头一个结尾
  - 使小数点"."可以匹配包含换行符(\n)在内的任意字符
- `MULTILINE` 多行模式
  - 每行都是一个字符串
  - 在多行模式下，如果需要仅匹配字符串开始和结束位置，可以使用\A和\Z

## 零宽断言

- `(?=exp)`：断言自身出现的位置的后面能匹配表达式exp
- `(?!exp)`：断言自身出现的位置的后面不能匹配表达式exp
- `(?<=exp)`：断言自身出现的位置的前面能匹配表达式exp
- `(?<!exp)`：断言自身出现的位置的前面不能匹配表达式exp